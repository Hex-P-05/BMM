# Generated by Django 4.2.9 on 2025-12-27 20:18

import datetime
from decimal import Decimal
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('catalogos', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Clasificacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('prefijo', models.CharField(max_length=10, verbose_name='Prefijo')),
                ('consecutivo', models.PositiveIntegerField(verbose_name='Consecutivo')),
                ('factura', models.CharField(blank=True, max_length=30, verbose_name='# de factura')),
                ('bl', models.CharField(max_length=50, verbose_name='BL')),
                ('eta', models.DateField(blank=True, null=True, verbose_name='ETA')),
                ('estatus', models.CharField(choices=[('pendiente', 'Pendiente visto bueno'), ('aprobado', 'Aprobado'), ('rechazado', 'Rechazado')], default='pendiente', max_length=20, verbose_name='Estatus')),
                ('visto_bueno', models.BooleanField(default=False, verbose_name='Visto bueno')),
                ('visto_bueno_fecha', models.DateTimeField(blank=True, null=True, verbose_name='Fecha de visto bueno')),
                ('comentarios_rechazo', models.TextField(blank=True, verbose_name='Comentarios de rechazo')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de creación')),
                ('fecha_actualizacion', models.DateTimeField(auto_now=True, verbose_name='Última actualización')),
                ('agente_aduanal', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='clasificaciones', to='catalogos.agenteaduanal', verbose_name='Agente aduanal')),
                ('comercializadora', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='clasificaciones', to='catalogos.comercializadora', verbose_name='Comercializadora')),
            ],
            options={
                'verbose_name': 'Clasificación',
                'verbose_name_plural': 'Clasificaciones',
                'db_table': 'clasificaciones',
                'ordering': ['-fecha_creacion'],
            },
        ),
        migrations.CreateModel(
            name='Contenedor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.CharField(help_text='Ej: KKFU7772489', max_length=20, unique=True, verbose_name='Número de contenedor')),
                ('bl_master', models.CharField(blank=True, max_length=50, verbose_name='BL Master')),
                ('puerto_bloqueado', models.BooleanField(default=False, help_text='Una vez seleccionado, no se puede cambiar', verbose_name='Puerto bloqueado')),
                ('eta', models.DateField(blank=True, null=True, verbose_name='Fecha ETA')),
                ('dias_libres', models.PositiveIntegerField(default=7, help_text='Pasados los días libres comienza a cobrarse demoras', verbose_name='Días libres')),
                ('fecha_ingreso', models.DateField(blank=True, null=True, verbose_name='Fecha de ingreso')),
                ('estatus', models.CharField(choices=[('activo', 'Activo'), ('completado', 'Completado'), ('cancelado', 'Cancelado')], default='activo', max_length=20, verbose_name='Estatus')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de creación')),
                ('fecha_actualizacion', models.DateTimeField(auto_now=True, verbose_name='Última actualización')),
                ('cliente', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='contenedores', to='catalogos.cliente', verbose_name='Cliente')),
                ('creado_por', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='contenedores_creados', to=settings.AUTH_USER_MODEL, verbose_name='Creado por')),
                ('ejecutivo_logistica', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='contenedores_logistica', to=settings.AUTH_USER_MODEL, verbose_name='Ejecutivo de logística')),
                ('ejecutivo_revalidacion', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='contenedores_revalidacion', to=settings.AUTH_USER_MODEL, verbose_name='Ejecutivo de revalidación')),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='contenedores', to='catalogos.empresa', verbose_name='Empresa')),
                ('naviera', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='contenedores', to='catalogos.naviera', verbose_name='Naviera')),
                ('puerto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='contenedores', to='catalogos.puerto', verbose_name='Puerto')),
                ('terminal', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='contenedores', to='catalogos.terminal', verbose_name='Terminal')),
            ],
            options={
                'verbose_name': 'Contenedor',
                'verbose_name_plural': 'Contenedores',
                'db_table': 'contenedores',
                'ordering': ['-fecha_creacion'],
            },
        ),
        migrations.CreateModel(
            name='Documento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('factura', 'Factura'), ('pl', 'Packing List'), ('certificado', 'Certificado'), ('constancia', 'Constancia'), ('manifestacion_valor', 'Manifestación de valor electrónica'), ('bl', 'Bill of Lading'), ('comprobante_pago', 'Comprobante de pago'), ('eir', 'EIR (Equipment Interchange Receipt)')], max_length=30, verbose_name='Tipo de documento')),
                ('archivo', models.FileField(upload_to='documentos/%Y/%m/', verbose_name='Archivo')),
                ('nombre_archivo', models.CharField(max_length=255, verbose_name='Nombre del archivo')),
                ('descripcion', models.TextField(blank=True, verbose_name='Descripción')),
                ('fecha_subida', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de subida')),
                ('clasificacion', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='documentos', to='operaciones.clasificacion', verbose_name='Clasificación')),
                ('contenedor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='documentos', to='operaciones.contenedor', verbose_name='Contenedor')),
                ('subido_por', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='documentos_subidos', to=settings.AUTH_USER_MODEL, verbose_name='Subido por')),
            ],
            options={
                'verbose_name': 'Documento',
                'verbose_name_plural': 'Documentos',
                'db_table': 'documentos',
                'ordering': ['-fecha_subida'],
            },
        ),
        migrations.CreateModel(
            name='SaldoTesoreria',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cuenta_origen', models.CharField(help_text='Ej: MICRA SANTANDER, HARUT BANBAJIO', max_length=100, verbose_name='Cuenta origen')),
                ('monto', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Monto')),
                ('tipo', models.CharField(choices=[('deposito', 'Depósito'), ('uso', 'Uso de saldo'), ('devolucion', 'Devolución'), ('ajuste', 'Ajuste')], max_length=20, verbose_name='Tipo de movimiento')),
                ('referencia', models.TextField(help_text='Descripción del movimiento', verbose_name='Referencia')),
                ('saldo_anterior', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='Saldo anterior')),
                ('saldo_nuevo', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='Saldo nuevo')),
                ('fecha', models.DateField(default=datetime.date.today, verbose_name='Fecha')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de creación')),
                ('cliente', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='movimientos_saldo', to='catalogos.cliente', verbose_name='Cliente')),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='movimientos_saldo', to='catalogos.empresa', verbose_name='Empresa')),
                ('registrado_por', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='movimientos_saldo', to=settings.AUTH_USER_MODEL, verbose_name='Registrado por')),
            ],
            options={
                'verbose_name': 'Movimiento de saldo',
                'verbose_name_plural': 'Movimientos de saldo',
                'db_table': 'saldos_tesoreria',
                'ordering': ['-fecha', '-id'],
            },
        ),
        migrations.CreateModel(
            name='Prestamo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('monto', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Monto')),
                ('divisa', models.CharField(choices=[('MXN', 'Pesos Mexicanos'), ('USD', 'Dólares Americanos')], default='MXN', max_length=3, verbose_name='Divisa')),
                ('motivo', models.TextField(help_text='Ej: Cliente no dio anticipo', verbose_name='Motivo')),
                ('fecha_prestamo', models.DateField(default=datetime.date.today, verbose_name='Fecha del préstamo')),
                ('fecha_vencimiento', models.DateField(blank=True, null=True, verbose_name='Fecha de vencimiento')),
                ('fecha_liquidacion', models.DateField(blank=True, null=True, verbose_name='Fecha de liquidación')),
                ('estatus', models.CharField(choices=[('activo', 'Activo'), ('liquidado', 'Liquidado'), ('cancelado', 'Cancelado')], default='activo', max_length=20, verbose_name='Estatus')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de creación')),
                ('cliente', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='prestamos', to='catalogos.cliente', verbose_name='Cliente')),
                ('contenedor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='prestamos', to='operaciones.contenedor', verbose_name='Contenedor relacionado')),
                ('registrado_por', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='prestamos_registrados', to=settings.AUTH_USER_MODEL, verbose_name='Registrado por')),
            ],
            options={
                'verbose_name': 'Préstamo',
                'verbose_name_plural': 'Préstamos',
                'db_table': 'prestamos',
                'ordering': ['-fecha_prestamo'],
            },
        ),
        migrations.CreateModel(
            name='Pedimento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.CharField(max_length=30, verbose_name='Número de pedimento')),
                ('a_nombre_de', models.CharField(choices=[('micra', 'MICRA'), ('bmm', 'B&MM'), ('cliente', 'Cliente')], default='cliente', help_text='Si está a nombre de MICRA, MICRA hace todos los pagos', max_length=20, verbose_name='A nombre de')),
                ('es_operacion_inicial', models.BooleanField(default=False, verbose_name='Es operación inicial')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de creación')),
                ('agente_aduanal', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='pedimentos', to='catalogos.agenteaduanal', verbose_name='Agente aduanal')),
                ('comercializadora', models.ForeignKey(blank=True, help_text='Puede ser comercializadora ajena', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pedimentos', to='catalogos.comercializadora', verbose_name='Comercializadora')),
                ('contenedor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pedimentos', to='operaciones.contenedor', verbose_name='Contenedor')),
            ],
            options={
                'verbose_name': 'Pedimento',
                'verbose_name_plural': 'Pedimentos',
                'db_table': 'pedimentos',
                'ordering': ['-fecha_creacion'],
            },
        ),
        migrations.CreateModel(
            name='OperacionRevalidacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha', models.DateField(default=datetime.date.today, verbose_name='Fecha')),
                ('bl', models.CharField(max_length=50, verbose_name='BL')),
                ('cliente_prefijo', models.CharField(max_length=10, verbose_name='Prefijo cliente')),
                ('consecutivo', models.PositiveIntegerField(verbose_name='Consecutivo')),
                ('referencia', models.CharField(blank=True, help_text='Generado automático: CONCEPTO BL PREFIJO #', max_length=200, verbose_name='Referencia')),
                ('importe', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Importe')),
                ('divisa', models.CharField(choices=[('MXN', 'Pesos Mexicanos'), ('USD', 'Dólares Americanos')], default='USD', max_length=3, verbose_name='Divisa')),
                ('tipo_cambio', models.DecimalField(blank=True, decimal_places=4, max_digits=8, null=True, verbose_name='Tipo de cambio')),
                ('estatus', models.CharField(choices=[('pendiente', 'Pendiente'), ('pagado', 'Pagado')], default='pendiente', max_length=20, verbose_name='Estatus')),
                ('fecha_pago_tesoreria', models.DateField(blank=True, null=True, verbose_name='Fecha de pago tesorería')),
                ('observaciones', models.TextField(blank=True, verbose_name='Observaciones')),
                ('observaciones_tesoreria', models.TextField(blank=True, help_text='Ej: SE TOMA DEL SALDO DE MICRA $66,906.00', verbose_name='Observaciones tesorería')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de creación')),
                ('fecha_actualizacion', models.DateTimeField(auto_now=True, verbose_name='Última actualización')),
                ('concepto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='operaciones_revalidacion', to='catalogos.concepto', verbose_name='Concepto')),
                ('contenedor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='operaciones_revalidacion', to='operaciones.contenedor', verbose_name='Contenedor')),
                ('ejecutivo', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='operaciones_revalidacion', to=settings.AUTH_USER_MODEL, verbose_name='Ejecutivo')),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='operaciones_revalidacion', to='catalogos.empresa', verbose_name='Empresa')),
                ('naviera_cuenta', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='operaciones', to='catalogos.navieracuenta', verbose_name='Cuenta de naviera')),
            ],
            options={
                'verbose_name': 'Operación de revalidación',
                'verbose_name_plural': 'Operaciones de revalidación',
                'db_table': 'operaciones_revalidacion',
                'ordering': ['-fecha', '-id'],
            },
        ),
        migrations.CreateModel(
            name='Garantia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('monto', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Monto')),
                ('divisa', models.CharField(choices=[('MXN', 'Pesos Mexicanos'), ('USD', 'Dólares Americanos')], default='USD', max_length=3, verbose_name='Divisa')),
                ('fecha_deposito', models.DateField(verbose_name='Fecha de depósito')),
                ('fecha_devolucion', models.DateField(blank=True, null=True, verbose_name='Fecha de devolución')),
                ('comentarios', models.TextField(blank=True, help_text='Formato: Fecha de pago + comentarios', verbose_name='Comentarios')),
                ('comprobante', models.FileField(blank=True, null=True, upload_to='garantias/%Y/%m/', verbose_name='Comprobante de pago')),
                ('estatus', models.CharField(choices=[('depositada', 'Depositada'), ('devuelta', 'Devuelta'), ('aplicada', 'Aplicada a demoras')], default='depositada', max_length=20, verbose_name='Estatus')),
                ('eir_recibido', models.BooleanField(default=False, help_text='Se verificó el regreso del contenedor', verbose_name='EIR recibido')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de creación')),
                ('contenedor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='garantias', to='operaciones.contenedor', verbose_name='Contenedor')),
                ('eir_documento', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='garantias', to='operaciones.documento', verbose_name='Documento EIR')),
                ('naviera', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='garantias', to='catalogos.naviera', verbose_name='Naviera')),
                ('registrado_por', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='garantias_registradas', to=settings.AUTH_USER_MODEL, verbose_name='Registrado por')),
            ],
            options={
                'verbose_name': 'Garantía',
                'verbose_name_plural': 'Garantías',
                'db_table': 'garantias',
                'ordering': ['-fecha_deposito'],
            },
        ),
        migrations.CreateModel(
            name='Demora',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_inicio_demora', models.DateField(help_text='Cuando terminan los días libres', verbose_name='Fecha inicio demora')),
                ('fecha_corte', models.DateField(blank=True, null=True, verbose_name='Fecha de corte')),
                ('dias_demora', models.PositiveIntegerField(default=0, verbose_name='Días de demora')),
                ('costo_diario', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Costo diario')),
                ('costo_total', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Costo total')),
                ('divisa', models.CharField(choices=[('MXN', 'Pesos Mexicanos'), ('USD', 'Dólares Americanos')], default='USD', max_length=3, verbose_name='Divisa')),
                ('estatus', models.CharField(choices=[('activo', 'Activo (acumulando)'), ('pagado', 'Pagado'), ('cancelado', 'Cancelado')], default='activo', max_length=20, verbose_name='Estatus')),
                ('observaciones', models.TextField(blank=True, verbose_name='Observaciones')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de creación')),
                ('fecha_actualizacion', models.DateTimeField(auto_now=True, verbose_name='Última actualización')),
                ('contenedor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='demoras', to='operaciones.contenedor', verbose_name='Contenedor')),
                ('naviera', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='demoras', to='catalogos.naviera', verbose_name='Naviera')),
            ],
            options={
                'verbose_name': 'Demora',
                'verbose_name_plural': 'Demoras',
                'db_table': 'demoras',
                'ordering': ['-fecha_inicio_demora'],
            },
        ),
        migrations.AddField(
            model_name='clasificacion',
            name='contenedor',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='clasificacion', to='operaciones.contenedor', verbose_name='Contenedor'),
        ),
        migrations.AddField(
            model_name='clasificacion',
            name='ejecutivo',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='clasificaciones', to=settings.AUTH_USER_MODEL, verbose_name='Ejecutivo de clasificación'),
        ),
        migrations.AddField(
            model_name='clasificacion',
            name='visto_bueno_por',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='vistos_buenos', to=settings.AUTH_USER_MODEL, verbose_name='Visto bueno por'),
        ),
        migrations.CreateModel(
            name='Ticket',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_alta', models.DateField(default=datetime.date.today, verbose_name='Fecha de alta')),
                ('prefijo', models.CharField(max_length=10, verbose_name='Prefijo')),
                ('consecutivo', models.PositiveIntegerField(verbose_name='Consecutivo')),
                ('contenedor', models.CharField(max_length=20, verbose_name='Contenedor')),
                ('comentarios', models.CharField(blank=True, max_length=100, verbose_name='Comentarios')),
                ('bl_master', models.CharField(blank=True, max_length=50, verbose_name='BL Master')),
                ('pedimento', models.CharField(blank=True, max_length=30, verbose_name='Pedimento')),
                ('factura', models.CharField(blank=True, max_length=30, verbose_name='Factura')),
                ('importe', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Importe')),
                ('divisa', models.CharField(choices=[('MXN', 'Pesos Mexicanos'), ('USD', 'Dólares Americanos')], default='MXN', max_length=3, verbose_name='Divisa')),
                ('estatus', models.CharField(choices=[('pendiente', 'Pendiente'), ('pagado', 'Pagado'), ('cerrado', 'Cerrado')], default='pendiente', max_length=20, verbose_name='Estatus')),
                ('fecha_pago', models.DateField(blank=True, null=True, verbose_name='Fecha de pago')),
                ('eta', models.DateField(blank=True, null=True, verbose_name='Fecha ETA')),
                ('dias_libres', models.PositiveIntegerField(default=7, verbose_name='Días libres')),
                ('contador_ediciones', models.PositiveIntegerField(default=0, verbose_name='Contador de ediciones')),
                ('observaciones', models.TextField(blank=True, verbose_name='Observaciones')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de creación')),
                ('fecha_actualizacion', models.DateTimeField(auto_now=True, verbose_name='Última actualización')),
                ('concepto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='tickets', to='catalogos.concepto', verbose_name='Concepto')),
                ('ejecutivo', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='tickets', to=settings.AUTH_USER_MODEL, verbose_name='Ejecutivo')),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='tickets', to='catalogos.empresa', verbose_name='Empresa')),
                ('proveedor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='tickets', to='catalogos.proveedor')),
            ],
            options={
                'verbose_name': 'Ticket (Legacy)',
                'verbose_name_plural': 'Tickets (Legacy)',
                'db_table': 'tickets',
                'ordering': ['-fecha_alta', '-id'],
                'unique_together': {('prefijo', 'consecutivo')},
            },
        ),
        migrations.CreateModel(
            name='OperacionLogistica',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha', models.DateField(default=datetime.date.today, verbose_name='Fecha')),
                ('prefijo', models.CharField(max_length=10, verbose_name='Prefijo')),
                ('consecutivo', models.PositiveIntegerField(verbose_name='Consecutivo')),
                ('comentarios', models.CharField(blank=True, help_text='Generado automático: CONCEPTO PREFIJO # CONTENEDOR', max_length=200, verbose_name='Comentarios')),
                ('pedimento', models.CharField(blank=True, max_length=30, verbose_name='Pedimento')),
                ('factura', models.CharField(blank=True, max_length=30, verbose_name='Factura')),
                ('importe', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Importe')),
                ('divisa', models.CharField(choices=[('MXN', 'Pesos Mexicanos'), ('USD', 'Dólares Americanos')], default='MXN', max_length=3, verbose_name='Divisa')),
                ('estatus', models.CharField(choices=[('pendiente', 'Pendiente'), ('pagado', 'Pagado'), ('cerrado', 'Cerrado')], default='pendiente', max_length=20, verbose_name='Estatus')),
                ('fecha_pago', models.DateField(blank=True, null=True, verbose_name='Fecha de pago')),
                ('observaciones', models.TextField(blank=True, verbose_name='Observaciones')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, verbose_name='Fecha de creación')),
                ('fecha_actualizacion', models.DateTimeField(auto_now=True, verbose_name='Última actualización')),
                ('concepto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='operaciones_logistica', to='catalogos.concepto', verbose_name='Concepto')),
                ('contenedor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='operaciones_logistica', to='operaciones.contenedor', verbose_name='Contenedor')),
                ('ejecutivo', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='operaciones_logistica', to=settings.AUTH_USER_MODEL, verbose_name='Ejecutivo')),
                ('empresa', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='operaciones_logistica', to='catalogos.empresa', verbose_name='Empresa')),
                ('proveedor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='operaciones_logistica', to='catalogos.proveedor', verbose_name='Proveedor')),
            ],
            options={
                'verbose_name': 'Operación de logística',
                'verbose_name_plural': 'Operaciones de logística',
                'db_table': 'operaciones_logistica',
                'ordering': ['-fecha', '-id'],
                'unique_together': {('prefijo', 'consecutivo')},
            },
        ),
    ]
